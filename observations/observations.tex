
\section{Observations Information Model}
\label{sec:Observations Information Model}

The \gls{Observations Information Model} provides a representation of the data reported by a piece of equipment used for a manufacturing process, or used for any other purpose.  Additional descriptive information associated with the reported data is defined in the \block{MTConnectDevices} document, which is described in \citetitle{MTCPart2}.

Information defined in the \gls{Observations Information Model} allows a software application to (1) determine the value for \glspl{data entity} returned from a piece of equipment and (2) interpret the data associated with those \glspl{data entity} with the same meaning, value, and context that it had at its original source.  To do this, the software application issues one of two HTTP requests to an \gls{agent} associated with a piece of equipment.  They are:



\begin{itemize}
    \item \texttt{sample}:  Returns a designated number of time stamped \glspl{data entity} from an \gls{agent} associated with a piece of equipment; subject to any HTTP filtering associated with the request.  See \textit{Section 8.3.3} of \citetitle{MTCPart1} of the MTConnect Standard for details on the \texttt{sample} HTTP request.

    \item \texttt{current}:  Returns a snapshot of either the most recent values or the values at a given sequence number for all \glspl{data entity} associated with a piece of equipment from an \gls{agent}; subject to any HTTP filtering associated with the request.  See \textit{Section 8.3.2} of \citetitle{MTCPart1} of the MTConnect Standard for details on the \texttt{current} HTTP request.


\end{itemize}

An \gls{agent} responds to either the \texttt{sample} or \texttt{current} HTTP request with an \block{MTConnectStreams} \gls{response document}.  This document contains information describing \glspl{data entity} reported by an \gls{agent} associated with a piece of equipment.   A client software application may correlate the information provided in the \block{MTConnectStreams} \gls{response document} with the physical and logical structure for that piece of equipment defined in the \block{MTConnectDevices} document to form a clear and unambiguous understanding of the information provided.  (See details on the structure for a piece of equipment described in \citetitle{MTCPart2}).

The \block{MTConnectStreams} \gls{response document} is comprised of two sections: \block{Header} and \block{Streams}.

The \block{Header} section contains protocol related information as defined in \textit{Section 6.5} of \citetitle{MTCPart1} of the MTConnect Standard.

The \block{Streams} section of the \block{MTConnectStreams} document contains a \block{DeviceStream} container for each piece of equipment represented in the document.  Each \block{DeviceStream} container is comprised of two primary types of elements â€“ \glspl{structural element} and \glspl{data entity}.  The contents of the \block{DeviceStream} container are described in detail in this document, \citetitle{MTCPart3} of the MTConnect Standard.

\glspl{structural element} are defined for both the \block{MTConnectDevices} and the \block{MTConnectStreams} \glspl{Response Document}.  These \glspl{structural element} are used to provide a logical organization of the information provided in each document.  While used for a similar purpose, the \glspl{structural element} in the \block{MTConnectStreams} document are specifically designed to be distinctly different from those in the \block{MTConnectDevices} document:  


\begin{itemize}
    \item \block{MTConnectDevices} document: \glspl{structural element} organize information that represents the physical and logical parts and sub-parts of a piece of equipment.  (See \citetitle{MTCPart2}, Section 4 of the MTConnect Standard for more details on \glspl{structural element} used in the \block{MTConnectDevices} document).  

    \item \block{MTConnectStreams} document: \glspl{structural element} provide the structure to organize the data returned from a piece of equipment and establishes the proper context for that data.  The \glspl{structural element} specifically defined for use in the \block{MTConnectStreams} document are \block{DeviceStream} (see \sect{DeviceStream}) and \block{ComponentStream} (see \sect{ComponentStream}).   

\end{itemize}

\block{DeviceStream} and \block{ComponentStream} elements have a direct correlation to each of the \glspl{structural element} defined in the \block{MTConnectDevices} document.


\glspl{data entity} that describe data reported by a piece of equipment are also defined for both the \block{MTConnectDevices} and the \block{MTConnectStreams} \glspl{Response Document}.  The \glspl{data entity} provided in both documents directly relate to each other.  However, \glspl{data entity} are used for different purposes in each document:


\begin{itemize}
    \item \block{MTConnectDevices} document: \gls{data entity} elements define the data that may be returned from a piece of equipment.  \citetitle{MTCPart2}, \textit{Sections 7 and 8} lists the possible \gls{data entity} elements that can be returned in a \block{MTConnectDevices} document.  

    \item \block{MTConnectStreams} document: \gls{data entity} elements provide the data reported by a piece of equipment.  This data is organized in separate \block{ComponentStream} containers for each of the \glspl{structural element} defined in the \block{MTConnectDevices} document associated with the data that is reported by a piece of equipment.  


\end{itemize}

Within each \block{ComponentStream} container in the \block{MTConnectStreams} document, \glspl{data entity} are organized into three types of container elements - \block{Samples}, \block{Events}, and \block{Conditions}.  (See \sect{Observation Types} for more information on these elements.)

\section{Structural Elements for MTConnectStreams}
\label{sec:Structural Elements for MTConnectStreams}

\glspl{structural element} form the logical structure for the \gls{MTConnectStreams Response Document}.  These elements are used to organize the information and data that is reported by an \gls{agent} for a piece of equipment.

\begin{figure}[ht]
  \centering
    \includegraphics[width=1.0\textwidth]{figures/Observations.png}
  \caption{Observations Diagram}
  \label{fig:Observations Diagram}
\end{figure}

\FloatBarrier


Note: See \sect{Observations Schema Diagrams} for XML schema.

\input model-sections/Streams.tex

\input model-sections/Observations.tex

\input model-sections/Representation.tex

\section{Observation Types}
\label{sec:Observation Types}

\block{Observation} elements are represented by \block{Sample}, \block{Event} or \block{Condition} elements based upon the \property{category} and \property{type} attributes defined for the corresponding \block{DataItem}.

\input model-sections/ConditionStates.tex

\input model-sections/ConditionTypes.tex

\input model-sections/EventTypes.tex

\input model-sections/SampleTypes.tex
